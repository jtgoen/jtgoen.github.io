<!DOCTYPE html>
<!-- saved from url=(0066)https://mbostock.github.io/d3/talk/20111116/force-collapsible.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Final Project Prototype</title>
    <link type="text/css" rel="stylesheet" href="./CSS/final/style.css">
    <script src="./JS/general/jquery-2.1.4.min.js"></script>
    <script sync src="https://platform.twitter.com/widgets.js"></script>
    <style type="text/css">

        .link {
            stroke: #999;
        }

        .tweet {
            stroke: #fff;
            fill: #9F5F9F;
        }

        .hashtag {
            stroke: #fff;
            fill: orange;
        }

        #descriptor {
            position: fixed;
            bottom: 5vmin;
            right: 5vmin;
        }

    </style>
</head>
<body>

<script>
    var nodesByName = {};
    var links = {};
    var nodes;
    var weight = [];

    window.onload=function() {
        document.getElementById("ddl1").onchange = function () {
            var e = this.value;

            if (e == "none") {
                d3.selectAll("svg > *").remove();
                //reset filter
                nodes = d3.values(nodesByName);
                //update force graph

                drawGraph();
            }
            else if (e == "blm1") {
                d3.selectAll("svg > *").remove();
                for (i = 0; i < nodes.length; i++) {
                    if (nodes[i].id != "BlackLivesMatter") {
                        nodes.splice(i, 1);
                        i--;
                    }
                }
                //update
                drawGraph();
            }
            else if (e == "blm2") {
                d3.selectAll("svg > *").remove();
                //blm2 tweets
                for (var i = 0; i < nodes.length; i++) {
                    if (nodes[i].id != "BLM") {
                        nodes.splice(i, 1);
                        i--;
                    }
                }
                //update
                drawGraph();
            }
            else if (e == "blm3") {
                d3.selectAll("svg > *").remove();
                //blm3 tweets
                for (var i = 0; i < nodes.length; i++) {
                    if (nodes[i].id != "blacklivesmatter") {
                        nodes.splice(i, 1);
                        i--;
                    }
                }
                //update
                drawGraph()
            }
            else if (e == "alm") {
                d3.selectAll("svg > *").remove();
                //alm tweets
                for (var i = 0; i < nodes.length; i++) {
                    if (nodes[i].id != "AllLivesMatter") {
                        nodes.splice(i, 1);
                        i--;
                    }
                }
                //update
                drawGraph();
            }
            else if (e == "ruo") {
                d3.selectAll("svg > *").remove();
                //ruo tweets
                for (var i = 0; i < nodes.length; i++) {
                    if (nodes[i].id != "RiseUpOctober") {
                        nodes.splice(i, 1);
                        i--;
                    }
                }
                //update
                drawGraph();
            }
        };

        document.getElementById("ddl2").onchange = function () {
            var e = this.value;
            if (e == "none") {
                d3.selectAll("svg > *").remove();
                //reset filter
                nodes = d3.values(nodesByName);
                //update force graph
                drawGraph();
            }
            else if (e == "purp") {
                d3.selectAll("svg > *").remove();
                var i = nodes.length;
                while(i--){
                    if (nodes[i].type != "hashtag") {
                        nodes.splice(i, 1);
                    }
                }
                drawGraph();
            }
            else if (e == "yel") {
                d3.selectAll("svg > *").remove();
                var i = nodes.length;
                while(i--) {
                    if (nodes[i].type != "tweet") {
                        nodes.splice(i, 1);
                    }
                }
                drawGraph();
            }
        }
    }
</script>

<script src="./JS/final/d3.v3.min.js"></script>
<script src="./JS/final/force_graph.js"></script>

<h2 id="descriptor">
    Final Project. Description is <a href="final-description.html">here</a>.
</h2>
</body>

<!-- <p id="sidebar"> -->

<p1>
    Filter Hashtags:
    <select id="ddl1">>
        <option value="none">None</option>
        <option value="blm1">#BlackLivesMatter</option>
        <option value="blm2">#BLM</option>
        <option value="blm3">#blacklivesmatter</option>
        <option value="alm">#AllLivesMatter</option>
        <option value="ruo">#RiseUpOctober</option>
    </select>
</p1>

<p4>
    **Reset the graph before attempting a new filter <br>
    by returning the drop down menu to None.
</p4>

<p2>
    Filter by Color:
    <select id="ddl2">
        <option value="none">None</option>
        <option value="purp">Purple</option>
        <option value="yel">Yellow</option>
    </select>
</p2>

<button id="fixationbutton">Reset Fixation</button>

<!-- </p> -->

</html>